![Логотип](docs/head.png)

# Open Play-Murmansk
Открытый во всех смыслах)

## Описание проекта

**Open Play-Murmansk** — это воссоздание популярного игрового портала из Мурманска, который ранее существовал на платформе Ucoz. Новый проект построен на Django и использует сохранённый фронтенд с Wayback Machine. В нём реализован функционал оригинального сайта: публикация новостей, статей, полезных ссылок, объявлений и отзывов, а также полноценный форум для общения пользователей.

---

## Основные функции

1. **Новости (news):** публикация и управление новостями из админки.
2. **Полезные статьи (publ):** создание и отображение статей.
3. **Полезные ссылки (links):** управление категориями и списками ссылок.
4. **Объявления (board):** пользователи могут публиковать объявления.
5. **Отзывы (reviews):** публикация и просмотр отзывов об играх.
6. **Форум:**
   - Создание тем, сообщений и подразделов.
   - Управление форумом через админку.
   - Модерация сообщений (удаление комментариев и сообщений модераторами).
7. **Управление медиа:** загрузка и автоматическая оптимизация изображений.

---

## Структура проекта

```
Open Play-Murmansk/
├── accounts/         # Пользовательский функционал
├── board/            # Объявления
├── core/             # Общие настройки и утилиты
├── forum/            # Форум
├── links/            # Полезные ссылки
├── news/             # Новости
├── play_murmansk/    # Основные настройки проекта
├── publ/             # Полезные статьи
├── reviews/          # Отзывы
├── static/           # Статические файлы
├── templates/        # Шаблоны для рендеринга
├── media/            # Медиафайлы (загружаемые изображения)
└── manage.py         # Основной файл управления проектом
```

---

## Установка и разворачивание

### 1. Системные требования

- Python 3.10+
- Django 5.x
- SQLite (или другая поддерживаемая база данных)
- Pillow (для работы с изображениями)

### 2. Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone <URL вашего репозитория>
   cd open_play-murmansk
   ```

2. **Создайте виртуальное окружение:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/MacOS
   venv\Scripts\activate     # Windows
   ```

3. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Примените миграции:**
   ```bash
   python manage.py migrate
   ```

5. **Соберите статические файлы:**
   ```bash
   python manage.py collectstatic
   ```

6. **Создайте суперпользователя:**
   ```bash
   python manage.py createsuperuser
   ```

7. **Запустите сервер разработки:**
   ```bash
   python manage.py runserver
   ```

Теперь сайт доступен по адресу `http://127.0.0.1:8000`.


---

## Функционал и работа

### 1. **Новости (news):**
- Публикация через админку.
- Поддержка комментариев.
- Возможность добавлять изображения.

### 2. **Объявления (board):**
- Пользователи создают объявления с изображениями.
- Объявления фильтруются по категориям: продам, куплю, обменяю, услуги, разное.

### 3. **Форум:**
- Структура форума: разделы > подразделы > темы > сообщения.
- Админка позволяет добавлять/редактировать разделы.
- Модераторы (пользователи с `is_staff=True`) могут удалять сообщения.

### 4. **Отзывы (reviews):**
- Поддержка публикации отзывов об играх.
- Визуальная поддержка краткого и полного содержимого.

### 5. **Полезные ссылки (links):**
- Категории ссылок: интернет-магазины, официальные ресурсы, полезное.

### 6. **Реклама и предстоящие игры:**
- Загрузка изображений для рекламных блоков.
- Список предстоящих игр с датами релиза.

---

## Модерация

- **Модераторы:** пользователи с `is_staff=True` могут:
  - Удалять комментарии.
  - Управлять содержимым форума.
- **Админка:** доступна для управления всеми моделями.

---

## Полезные команды

1. **Очистка активности пользователей:**
   ```bash
   python manage.py clean_user_activity
   ```

2. **Обновление зависимостей:**
   ```bash
   pip install --upgrade -r requirements.txt
   ```

3. **Запуск сервера на продакшене:**
   Настройте WSGI или ASGI сервер (например, Gunicorn):
   ```bash
   gunicorn play_murmansk.wsgi:application --bind 0.0.0.0:8000
   ```

---

## Структура базы данных

### Пользователи (`CustomUser`)
- Поля: `avatar`, `psn_id`, `gametag_id`, `nintendo_id`, `steam_id`.
- Поддержка кастомных аватаров.

### Объявления (`Board`)
- Категории: продам, куплю, обменяю, услуги, разное.
- Поля: `title`, `content`, `image`, `author`, `views`.

### Форум
- `ForumSection` → Раздел.
- `ForumSubsection` → Подраздел (связь с `ForumSection`).
- `ForumTopic` → Темы обсуждений.
- `ForumMessage` → Сообщения в теме.

### Полезные ссылки (`Link`)
- Поля: `title`, `content`, `category`, `author`, `views`.

---

## Лицензия

Проект лицензирован под **MIT License**. Вы можете использовать, изменять и распространять его свободно, соблюдая условия лицензии.

---